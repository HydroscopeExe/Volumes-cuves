<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Calculateur de volume de cuves</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 2rem;
      text-align: center;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    select, input {
      width: 80%;
      margin: 1rem 0;
      padding: 0.5rem;
      font-size: 1rem;
    }
    .shape-preview {
      margin-top: 1rem;
      height: 200px;
    }
    .result {
      font-size: 1.2rem;
      margin-top: 1rem;
      font-weight: bold;
    }
    svg {
      height: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Calculateur de volume de cuves</h1>
    <label for="shape">Forme de la cuve :</label>
    <select id="shape">
      <option value="cube">Cubique</option>
      <option value="cylindre">Cylindrique</option>
    </select>

    <div id="inputs"></div>
    <div class="result" id="result">Volume : -</div>
    <div class="shape-preview" id="preview"></div>
  </div>

  <script>
    const shapeSelect = document.getElementById('shape');
    const inputsDiv = document.getElementById('inputs');
    const resultDiv = document.getElementById('result');
    const previewDiv = document.getElementById('preview');

    function updateForm() {
      const shape = shapeSelect.value;
      inputsDiv.innerHTML = '';
      previewDiv.innerHTML = '';

      if (shape === 'cube') {
        inputsDiv.innerHTML = `
          <input type="number" id="length" placeholder="Longueur (m)">
          <input type="number" id="width" placeholder="Largeur (m)">
          <input type="number" id="height" placeholder="Hauteur (m)">
        `;
        previewDiv.innerHTML = `
          <svg viewBox="0 0 100 100">
            <rect x="20" y="30" width="60" height="40" fill="#4aa3df" stroke="#000" stroke-width="2"/>
          </svg>
        `;
      } else if (shape === 'cylindre') {
        inputsDiv.innerHTML = `
          <input type="number" id="diameter" placeholder="Diamètre (m)">
          <input type="number" id="height" placeholder="Hauteur (m)">
        `;
        previewDiv.innerHTML = `
          <svg viewBox="0 0 100 100">
            <ellipse cx="50" cy="30" rx="30" ry="10" fill="#4aa3df" stroke="#000" stroke-width="2"/>
            <rect x="20" y="30" width="60" height="40" fill="#4aa3df" stroke="#000" stroke-width="2"/>
            <ellipse cx="50" cy="70" rx="30" ry="10" fill="#4aa3df" stroke="#000" stroke-width="2"/>
          </svg>
        `;
      }
    }

    function calculateVolume() {
      const shape = shapeSelect.value;
      let volume = 0;

      if (shape === 'cube') {
        const l = parseFloat(document.getElementById('length')?.value || 0);
        const w = parseFloat(document.getElementById('width')?.value || 0);
        const h = parseFloat(document.getElementById('height')?.value || 0);
        volume = l * w * h;
      } else if (shape === 'cylindre') {
        const d = parseFloat(document.getElementById('diameter')?.value || 0);
        const h = parseFloat(document.getElementById('height')?.value || 0);
        volume = Math.PI * Math.pow(d / 2, 2) * h;
      }

      if (volume > 0) {
        resultDiv.textContent = `Volume : ${volume.toFixed(2)} m³`;
      } else {
        resultDiv.textContent = 'Volume : -';
      }
    }

    shapeSelect.addEventListener('change', updateForm);
    inputsDiv.addEventListener('input', calculateVolume);

    updateForm();
  </script>
</body>
</html>
